import { __decorate, __read, __spread } from "tslib";
import { Injectable } from '@angular/core';
import { from } from 'rxjs';
import { flatMap, groupBy, reduce } from 'rxjs/operators';
var GroupRowsService = /** @class */ (function () {
    function GroupRowsService() {
    }
    GroupRowsService.doGroupRows = function (data, groupRowsBy) {
        var grouped = [];
        from(data).pipe(groupBy(function (row) { return row[groupRowsBy]; }), flatMap(function (group) { return group.pipe(reduce(function (acc, curr) { return __spread(acc, [curr]); }, [])); })).subscribe(function (row) { return grouped.push(row); });
        return grouped;
    };
    GroupRowsService = __decorate([
        Injectable()
    ], GroupRowsService);
    return GroupRowsService;
}());
export { GroupRowsService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JvdXAtcm93cy5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vbmd4LWVhc3ktdGFibGUvIiwic291cmNlcyI6WyJsaWIvc2VydmljZXMvZ3JvdXAtcm93cy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDNUIsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFHMUQ7SUFBQTtJQVlBLENBQUM7SUFYZSw0QkFBVyxHQUF6QixVQUE2QixJQUFTLEVBQUUsV0FBbUI7UUFDekQsSUFBTSxPQUFPLEdBQVUsRUFBRSxDQUFDO1FBQzFCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQ2IsT0FBTyxDQUFDLFVBQUMsR0FBRyxJQUFLLE9BQUEsR0FBRyxDQUFDLFdBQVcsQ0FBQyxFQUFoQixDQUFnQixDQUFDLEVBQ2xDLE9BQU8sQ0FBQyxVQUFDLEtBQUssSUFBSyxPQUFBLEtBQUssQ0FBQyxJQUFJLENBQzNCLE1BQU0sQ0FBQyxVQUFDLEdBQVEsRUFBRSxJQUFPLElBQUssZ0JBQUksR0FBRyxHQUFFLElBQUksSUFBYixDQUFjLEVBQUUsRUFBRSxDQUFDLENBQ2xELEVBRmtCLENBRWxCLENBQUMsQ0FDSCxDQUFDLFNBQVMsQ0FBQyxVQUFDLEdBQUcsSUFBSyxPQUFBLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQWpCLENBQWlCLENBQUMsQ0FBQztRQUV4QyxPQUFPLE9BQU8sQ0FBQztJQUNqQixDQUFDO0lBWFUsZ0JBQWdCO1FBRDVCLFVBQVUsRUFBRTtPQUNBLGdCQUFnQixDQVk1QjtJQUFELHVCQUFDO0NBQUEsQUFaRCxJQVlDO1NBWlksZ0JBQWdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZmxhdE1hcCwgZ3JvdXBCeSwgcmVkdWNlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgR3JvdXBSb3dzU2VydmljZSB7XG4gIHB1YmxpYyBzdGF0aWMgZG9Hcm91cFJvd3M8VD4oZGF0YTogVFtdLCBncm91cFJvd3NCeTogc3RyaW5nKTogYW55W10ge1xuICAgIGNvbnN0IGdyb3VwZWQ6IGFueVtdID0gW107XG4gICAgZnJvbShkYXRhKS5waXBlKFxuICAgICAgZ3JvdXBCeSgocm93KSA9PiByb3dbZ3JvdXBSb3dzQnldKSxcbiAgICAgIGZsYXRNYXAoKGdyb3VwKSA9PiBncm91cC5waXBlKFxuICAgICAgICByZWR1Y2UoKGFjYzogVFtdLCBjdXJyOiBUKSA9PiBbLi4uYWNjLCBjdXJyXSwgW10pLFxuICAgICAgKSksXG4gICAgKS5zdWJzY3JpYmUoKHJvdykgPT4gZ3JvdXBlZC5wdXNoKHJvdykpO1xuXG4gICAgcmV0dXJuIGdyb3VwZWQ7XG4gIH1cbn1cbiJdfQ==